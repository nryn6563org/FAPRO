/*
  위젯 스타일 (Widget Styles)
  - 대시보드 내 다양한 위젯(시장지수, 매출, 버블차트 등)의 공통 및 개별 스타일 정의
*/

/* 위젯 컨테이너 */
.c-widget {
    @apply h-full bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col text-left items-start transition-all duration-200;
}
.c-widget:hover {
    @apply shadow-lg -translate-y-1;
}
.dark .c-widget {
    background-color: #0f172a;
    border-color: #1e293b;
}
.dark .c-widget:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
}

.c-widget__header {
    @apply p-5 pb-2 flex-none w-full;
}

.c-widget__header-inner {
    @apply flex items-center justify-between;
}

.c-widget__title-wrapper {
    @apply flex items-center gap-2;
}

.c-widget__icon {
    @apply w-5 h-5 text-blue-600;
}
.dark .c-widget__icon {
    color: #3b82f6;
}

.c-widget__title {
    @apply font-semibold text-base text-slate-900;
}
.dark .c-widget__title {
    color: #f1f5f9;
}

/* 위젯 삭제 버튼 (편집모드) */
.c-widget__remove-btn {
    @apply text-slate-400 p-1 rounded-full transition-colors;
}
.c-widget__remove-btn:hover {
    @apply text-red-500 bg-slate-100;
}
.dark .c-widget__remove-btn:hover {
    background-color: #334155;
}

.c-widget__remove-icon {
    @apply w-4 h-4;
}

.c-widget__content {
    @apply flex-1 p-5 pt-0 min-h-0 relative w-full;
}

/* 시장 지수 위젯 */
.c-widget__market-wrapper {
    @apply h-full flex flex-col relative w-full bg-white;
}
.dark .c-widget__market-wrapper {
    background-color: #0f172a;
}

.c-widget__value-area {
    @apply mb-2;
}

.c-widget__value {
    @apply text-2xl font-bold;
}
.dark .c-widget__value {
    color: #ffffff;
}

.c-widget__change {
    @apply flex items-center gap-1 text-sm;
}

.c-widget__change-icon {
    @apply w-4 h-4;
}

.c-widget__change--up {
    @apply text-green-600;
}
.dark .c-widget__change--up {
    color: #4ade80;
}

.c-widget__change--down {
    @apply text-red-600;
}
.dark .c-widget__change--down {
    color: #f87171;
}

.c-widget__chart-area {
    @apply flex-1 min-h-0 relative w-full;
}

.c-widget__chart-inner {
    @apply w-full h-full;
}

/* 매출 위젯 (Revenue) */
.c-widget__revenue-wrapper {
    @apply h-full flex flex-col relative w-full;
}

.c-widget__revenue-value {
    @apply mb-2;
}

/* 버블 차트 위젯 (Bubble) */
.c-widget__bubble-wrapper {
    @apply h-full flex flex-col relative w-full;
}

.c-widget__bubble-legend {
    @apply mt-2 flex flex-wrap gap-2 justify-center;
}

.c-widget__bubble-legend-item {
    @apply flex items-center gap-1;
}

.c-widget__bubble-dot {
    @apply w-2 h-2 rounded-full;
}

.c-widget__bubble-label {
    @apply text-[10px] text-slate-600;
}
.dark .c-widget__bubble-label {
    color: #94a3b8;
}

/* 단순 카운트 위젯 (Count/AUM) */
.c-widget__simple-wrapper {
    @apply h-full flex flex-col justify-center;
}

/* 주요 고객 리스트 위젯 (Top Clients) */
.c-widget__list-wrapper {
    @apply h-full overflow-y-auto w-full;
}

.c-widget__list {
    @apply space-y-2 w-full;
}

.c-widget__list-item {
    @apply flex items-center justify-between p-2 rounded-xl transition-colors w-full border border-transparent;
}
.c-widget__list-item:hover {
    @apply bg-slate-50 border-slate-100;
}
.dark .c-widget__list-item:hover {
    background-color: rgba(51, 65, 85, 0.5);
    border-color: #334155;
}

.c-widget__client-info {
    @apply flex items-center gap-3;
}

.c-widget__avatar {
    @apply w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold flex-shrink-0;
    background: linear-gradient(135deg, #3b82f6 0%, #9333ea 100%);
}

.c-widget__client-name {
    @apply text-sm font-medium text-slate-900 whitespace-nowrap;
}
.dark .c-widget__client-name {
    color: #f1f5f9;
}

.c-widget__client-sub {
    @apply text-xs text-slate-500 whitespace-nowrap;
}
.dark .c-widget__client-sub {
    color: #94a3b8;
}

.c-widget__list-right {
    @apply text-right;
}

/* 고객 위험도 태그 */
.c-widget__tag {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs whitespace-nowrap;
}

.c-widget__tag--high {
    @apply bg-red-100 text-red-700;
}
.dark .c-widget__tag--high {
    background-color: rgba(127, 29, 29, 0.3);
    color: #f87171;
}

.c-widget__tag--medium {
    @apply bg-yellow-100 text-yellow-700;
}
.dark .c-widget__tag--medium {
    background-color: rgba(113, 63, 18, 0.3);
    color: #fbbf24;
}

.c-widget__tag--low {
    @apply bg-green-100 text-green-700;
}
.dark .c-widget__tag--low {
    background-color: rgba(20, 83, 45, 0.3);
    color: #4ade80;
}

/* 뉴스 리스트 위젯 */
.c-widget__news-wrapper {
    @apply h-full overflow-y-auto w-full pt-2;
}

.c-widget__news-list {
    @apply space-y-3 w-full;
}

.c-widget__news-item {
    @apply pb-3 border-b border-slate-200 last:border-0 last:pb-0 w-full;
}
.dark .c-widget__news-item {
    border-color: #334155;
}

.c-widget__news-title {
    @apply text-sm font-medium cursor-pointer text-slate-900 transition-colors truncate block w-full;
}
.c-widget__news-title:hover {
    @apply text-blue-600;
}
.dark .c-widget__news-title {
    color: #f1f5f9;
}
.dark .c-widget__news-title:hover {
    color: #60a5fa;
}

.c-widget__news-meta {
    @apply flex items-center gap-2 mt-1;
}

.c-widget__news-source {
    @apply text-xs text-slate-500 whitespace-nowrap;
}
.dark .c-widget__news-source {
    color: #94a3b8;
}

.c-widget__news-divider {
    @apply text-xs text-slate-400;
}

.c-widget__news-time {
    @apply text-xs text-slate-500 whitespace-nowrap;
}
.dark .c-widget__news-time {
    color: #94a3b8;
}

/* 예외/로딩 상태 */
.c-widget__fallback {
    @apply h-full flex items-center justify-center bg-slate-50 rounded-xl transition-colors;
}
.dark .c-widget__fallback {
    background-color: rgba(51, 65, 85, 0.5);
}

.c-widget__fallback-text {
    @apply text-xs text-slate-400;
}

/* 유틸리티 */
.c-widget__chart-container { @apply flex-1 min-h-0 relative w-full; }

/* Edit Animation */
@keyframes shake {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(0.3deg); }
  50% { transform: rotate(0deg); }
  75% { transform: rotate(-0.3deg); }
  100% { transform: rotate(0deg); }
}

.c-widget--editing {
  animation: shake 0.5s infinite;
  @apply cursor-move border-blue-400 ring-2 ring-blue-100;
}
.dark .c-widget--editing {
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(30, 58, 138, 0.3);
}
